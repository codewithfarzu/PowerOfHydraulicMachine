(function(e){"use strict";e.fn.appear=function(a,r){var t=e.extend({data:undefined,one:true,accX:0,accY:0},r);return this.each(function(){var r=e(this);r.appeared=false;if(!a){r.trigger("appear",t.data);return}var n=e(window);var p=function(){if(!r.is(":visible")){r.appeared=false;return}var e=n.scrollLeft();var a=n.scrollTop();var p=r.offset();var i=p.left;var c=p.top;var f=t.accX;var s=t.accY;var o=r.height();var l=n.height();var u=r.width();var h=n.width();if(c+o+s>=a&&c<=a+l+s&&i+u+f>=e&&i<=e+h+f){if(!r.appeared)r.trigger("appear",t.data)}else{r.appeared=false}};var i=function(){r.appeared=true;if(t.one){n.unbind("scroll",p);var i=e.inArray(p,e.fn.appear.checks);if(i>=0)e.fn.appear.checks.splice(i,1)}a.apply(this,arguments)};if(t.one)r.one("appear",t.data,i);else r.bind("appear",t.data,i);n.scroll(p);e.fn.appear.checks.push(p);p()})};e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var a=e.fn.appear.checks.length;if(a>0)while(a--)e.fn.appear.checks[a]()},run:function(){if(e.fn.appear.timeout)clearTimeout(e.fn.appear.timeout);e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}});e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(a,r){var t=e.fn[r];if(t){e.fn[r]=function(){var a=t.apply(this,arguments);e.fn.appear.run();return a}}})})(jQuery);